
\begin{figure}
\bgroup
\def\arraystretch{0.8}
\begin{tabular}{c|c}
\begin{minipage}{0.4\linewidth}
{\footnotesize
\begin{Verbatim}[commandchars=\\\{\},codes={\catcode`$=3\catcode`^=7\catcode`_=8}]
\color{blue}abstract sig \color{black}fb \{r: \color{blue}some \color{black}fb\}
\color{blue}some sig \color{black}foo \color{blue}extends \color{black}fb\{\}
\color{blue}some sig \color{black}bar \color{blue}extends \color{black}fb\{\}
\color{blue}pred \color{black}foobar \{ 
 \color{blue}disj\color{black}[foo.r,foo] \color{prismgreen}//only
 \color{blue}disj\color{black}[bar.r,bar] \color{prismgreen}//foo<->bar
 r = ~r \} \color{prismgreen}//symmetric
\color{blue}run \color{black}foobar \color{blue}for \color{black}2 foo, 1 bar
---------------------------
\end{Verbatim}
}
\end{minipage}

%  all f:foo, b:bar |
%    f in b.r <=> b in f.r}

& 
  
 \begin{minipage}{0.55\linewidth}
\begin{tikzpicture}[mynode/.style = {draw,inner sep=1.1mm, fill=black!10, blur shadow={shadow blur steps=3}},scale=1.4]

\node[mynode] (abar) at (0.7,0) {bar0};
\node[mynode] (afoo) at (0.7,1) {foo0};
\node[mynode] (bbar) at (2.5,0) {bar0};
\node[mynode] (bfoo0) at (2.0,1) {foo0};
\node[mynode] (bfoo1) at (3.0,1) {foo1};

\begin{scope}[> = stealth,  ->,black,thick, every node/.style = {black,right,align=center}]
\draw (afoo) edge   node      {r}     (abar);
\draw (abar) edge   node      {}     (afoo);
\draw (bfoo0) edge node[left]       {r}     (bbar);
\draw (bbar) edge node       {}     (bfoo0);
\draw (bfoo1) edge   node      {r}     (bbar);
\draw (bbar) edge   node      {}     (bfoo1);
\end{scope}
\end{tikzpicture}
\end{minipage}
\\
\begin{minipage}{0.4\linewidth}
\vspace{0.05cm}
{\footnotesize
\begin{Verbatim}[commandchars=\\\{\},codes={\catcode`$=3\catcode`^=7\catcode`_=8}]
\color{blue}module \color{black}foo
 x: \color{blue}bool init false\color{black};
 [a] (!x) -> 0.2:(x'=\color{blue}false\color{black}) 
           + 0.8:(x'=\color{blue}true\color{black});
\color{blue}endmodule
\color{blue}module \color{black}bar
 y: \color{blue}bool init false\color{black};
 [a] (!y) -> 0.4:(y'=\color{blue}false\color{black}) 
           + 0.6:(y'=\color{blue}true\color{black});
\color{blue}endmodule\color{black}
\end{Verbatim}
}
\end{minipage}

& 
\begin{minipage}{0.55\linewidth}
\begin{tikzpicture}[mynode/.style = {draw,inner sep=1.1mm, rounded corners, fill=black!10, blur shadow={shadow blur steps=3}},scale=1.8]
\node[mynode] (n1) at (1,1) {\red{!x}, \red{!y}};
\node[mynode] (n2) at (0,0) {\red{!x}, y};
\node[mynode] (n3) at (1,0) {x, \red{!y}};
\node[mynode] (n4) at (2,0) {x, y};
\begin{scope}[> = stealth,  ->,black,thick, every node/.style = {black,right,align=center}]
\draw (n1) edge   node[left, yshift=-1mm, xshift=-3.4mm]     {[a] \\ 0.12}     (n2);
\draw (n1) edge   node[yshift=-1mm, xshift=-0.5mm]      {[a] \\ 0.32}     (n3);
\draw (n1) edge   node[yshift=-1mm, xshift=3.4mm]      {[a] \\ 0.48}     (n4);
\draw (n1) edge [loop right]  node     {[a] \\ 0.08}     (n1);
\end{scope}
\end{tikzpicture}
\end{minipage}


\end{tabular}
\egroup
\caption{Foobar Alloy and PRISM specifications}
\label{fig:intro1}
\end{figure}